import numpy as np
import matplotlib.pyplot as plt
from matplotlib.animation import FuncAnimation
from IPython.display import HTML
import shutil

# Dados da tabela
angles = [3.6, 30.5, 51.4, 61.1]
distances = [38.4, 48.9, 50.0, 45.4]

# Criar a figura e os eixos com fundo preto
fig, ax = plt.subplots()
fig.patch.set_facecolor('black')  # Fundo da figura preto
ax.set_facecolor('black')  # Fundo do gráfico preto

ax.set_xlim(0, max(angles) + 10)
ax.set_ylim(0, max(distances) + 10)
ax.set_xlabel("Angle (°)", fontsize=14, color='white', fontweight='bold')
ax.set_ylabel("Range (m)", fontsize=14, color='white', fontweight='bold')
ax.set_title("Projectile Motion Animation", fontsize=16, color='white', fontweight='bold')

# Criar a linha inicial em neon amarelo
line, = ax.plot([], [], '-', color='#FFFF00', linewidth=2)  # Linha neon amarela

# Adicionar os valores de ângulo e alcance como texto
texts = [ax.text(angle, distance, f"({angle}°, {distance}m)", 
                 fontsize=12, color='white', fontweight='bold', ha='right', va='bottom',
                 path_effects=[plt.matplotlib.patheffects.withStroke(linewidth=2, foreground='black')])
         for angle, distance in zip(angles, distances)]

# Número total de frames para suavidade
total_frames = 50  

# Criar uma interpolação suave entre os pontos
x_interp = np.linspace(min(angles), max(angles), total_frames)
y_interp = np.interp(x_interp, angles, distances)

# Função de animação
def update(frame):
    line.set_data(x_interp[:frame+1], y_interp[:frame+1])
    return line,

# Criar a animação
ani = FuncAnimation(fig, update, frames=total_frames, interval=50, repeat=False)

# Salvar a animação em um arquivo HTML
html_code = ani.to_jshtml()
with open("animation.html", "w") as f:
    f.write(html_code)

# Mover para a pasta principal do Google Drive (se estiver usando o Colab)
shutil.move("animation.html", "/content/animation.html")

# Exibir o link para download do arquivo HTML
HTML(ani.to_jshtml())
